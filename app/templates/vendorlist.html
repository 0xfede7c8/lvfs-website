{% extends "default.html" %}

{% block title %}Vendor Status{% endblock %}

{% block content %}
<div class="container mt-3">

<h1>Vendors on the LVFS</h1>
<p>
  This page shows all the vendors contacted by the LVFS team.
  If you'd like to be added to this list please let me know.
</p>

<table class="table">
  <tr>
    <th>Vendor</th>
    <th>fwupd support</th>
    <th>LVFS account</th>
    <th>Uploaded firmware</th>
    <th>Comments</th>
{% if session['username'] and session['group_id'] == 'admin' %}
    <th>&nbsp;</th>
{% endif %}
  </tr>
{% for v in vendors %}
{% if v.visible or session['group_id'] == 'admin' %}
  <tr id="{{v.group_id}}">
    <td>
{% if v.visible %}
      {{v.display_name}}
{% else %}
      <em>{{v.display_name}} [private]</em>
{% endif %}
    </td>
{% if v.is_fwupd_supported == 'no' %}
    <td class="no">
      No
    </td>
{% elif v.is_fwupd_supported == 'yes' %}
    <td class="yes">
      Yes ({{v.plugins}})
    </td>
{% else %}
    <td class="na">
      n/a ({{v.plugins}})
    </td>
{% endif %}
{% if v.is_account_holder == 'no' %}
    <td class="no">
      No
    </td>
{% elif v.is_account_holder == 'yes' %}
    <td class="yes">
      Yes
    </td>
{% else %}
    <td class="na">
      n/a
    </td>
{% endif %}
{% if v.is_uploading == 'no' %}
    <td class="no">
      No
    </td>
{% elif v.is_uploading == 'yes' %}
    <td class="yes">
      Yes
    </td>
{% else %}
    <td class="na">
      n/a
    </td>
{% endif %}
    <td>{{v.description}}</td>
{% if session['username'] and session['group_id'] == 'admin' %}
    <td><a class="btn btn-secondary" href="/lvfs/vendor/{{v.group_id}}/details">Edit</a></td>
{% endif %}
  </tr>
{% endif %}
{% endfor %}
  </tr>
</table>

{% if session['username'] and session['group_id'] == 'admin' %}
<h1>Create a new vendor</h1>
<form method="post" action="/lvfs/vendorlist/add" class="form-inline">
  <input class="form-control" type="text" size="20" name="group_id" placeholder="Group ID" required>
  <input class="btn btn-primary" type="submit" value="Add">
</form>
{% endif %}

</div> <!-- container -->
{% endblock %}
